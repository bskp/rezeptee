var m=Object.defineProperty,O=Object.defineProperties,S=Object.getOwnPropertyDescriptor,T=Object.getOwnPropertyDescriptors,U=Object.getOwnPropertyNames,I=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var v=(t,e,r)=>e in t?m(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,y=(t,e)=>{for(var r in e||(e={}))b.call(e,r)&&v(t,r,e[r]);if(I)for(var r of I(e))Z.call(e,r)&&v(t,r,e[r]);return t},d=(t,e)=>O(t,T(e));var D=(t,e)=>{for(var r in e)m(t,r,{get:e[r],enumerable:!0})},E=(t,e,r,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of U(e))!b.call(t,a)&&a!==r&&m(t,a,{get:()=>e[a],enumerable:!(c=S(e,a))||c.enumerable});return t};var V=t=>E(m({},"__esModule",{value:!0}),t);var G={};D(G,{imageResizeUrl:()=>R,imageSizeInfo:()=>C,matchHeading:()=>q,matchImage:()=>F,matchImageParagraph:()=>P,matchParagraph:()=>x,matchType:()=>u,matchZone:()=>N,renderMdast:()=>M});module.exports=V(G);var l=require("react/jsx-runtime"),B=({node:t,children:e})=>(0,l.jsxs)("span",{style:{background:"#FF5555",color:"#FFFFFF",display:"inline-block",margin:4},children:['Missing Markdown node type "',t.type,'"',t.identifier?`with identifier "${t.identifier}"`:""," ",e]}),M=(t,e,r={})=>{let{ancestors:c=[],MissingNode:a=B}=r,$=e.rules.filter(i=>i.matchMdast&&i.component),w=(i,n,s)=>{if(i.type==="text")return i.value;let p=s[0],o=$.find(H=>H.matchMdast(i,n,p));if(!o){if(!a)throw new Error([`Missing Rule for Markdown node type "${i.type}"`,i.identifier?`with identifier "${i.identifier}"`:"","Note: A valid rules needs an renderMdast and component function"].join(" "));return(0,l.jsx)(a,{node:i,index:n,parent:p,ancestors:s,children:k(i,s)},n)}let j=o.component,f;o.props?f=o.props(i,n,p,{ancestors:s}):f={data:i.data};let g=null;return o.rules?g=M(i.children,{rules:o.rules},d(y({},r),{ancestors:[i].concat(s)})):o.isVoid||(g=k(i,s)),(0,l.jsx)(j,d(y({},f),{children:g}),n)},z=(i,n)=>i.map((s,p)=>w(s,p,n)),k=(i,n)=>!i.children||i.children.length===0?null:z(i.children,[i].concat(n));return Array.isArray(t)?z(t,c):w(t,0,c)};var h=require("url"),u=t=>e=>e.type===t,q=t=>e=>e.type==="heading"&&e.depth===t,N=t=>e=>e.type==="zone"&&e.identifier===t,x=u("paragraph"),F=u("image"),P=t=>x(t)&&t.children.length===1&&F(t.children[0]),C=t=>{let e=(0,h.parse)(t,!0),{size:r}=e.query;if(!r||typeof r!="string")return null;let[c,a]=r.split("x");return{width:c,height:a}},R=(t,e)=>{if(!t)return t;let r=(0,h.parse)(t,!0);return r.protocol==="data:"?t:(r.query.resize=e,r.search=void 0,(0,h.format)(r))};0&&(module.exports={imageResizeUrl,imageSizeInfo,matchHeading,matchImage,matchImageParagraph,matchParagraph,matchType,matchZone,renderMdast});
