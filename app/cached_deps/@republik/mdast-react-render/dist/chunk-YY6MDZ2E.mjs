var N=Object.defineProperty,P=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;var x=(t,e,i)=>e in t?N(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,m=(t,e)=>{for(var i in e||(e={}))R.call(e,i)&&x(t,i,e[i]);if(M)for(var i of M(e))$.call(e,i)&&x(t,i,e[i]);return t},u=(t,e)=>P(t,C(e));import{jsx as F,jsxs as H}from"react/jsx-runtime";var j=({node:t,children:e})=>H("span",{style:{background:"#FF5555",color:"#FFFFFF",display:"inline-block",margin:4},children:['Missing Markdown node type "',t.type,'"',t.identifier?`with identifier "${t.identifier}"`:""," ",e]}),w=(t,e,i={})=>{let{ancestors:o=[],MissingNode:p=j}=i,v=e.rules.filter(r=>r.matchMdast&&r.component),g=(r,a,n)=>{if(r.type==="text")return r.value;let c=n[0],s=v.find(q=>q.matchMdast(r,a,c));if(!s){if(!p)throw new Error([`Missing Rule for Markdown node type "${r.type}"`,r.identifier?`with identifier "${r.identifier}"`:"","Note: A valid rules needs an renderMdast and component function"].join(" "));return F(p,{node:r,index:a,parent:c,ancestors:n,children:d(r,n)},a)}let b=s.component,l;s.props?l=s.props(r,a,c,{ancestors:n}):l={data:r.data};let h=null;return s.rules?h=w(r.children,{rules:s.rules},u(m({},i),{ancestors:[r].concat(n)})):s.isVoid||(h=d(r,n)),F(b,u(m({},l),{children:h}),a)},y=(r,a)=>r.map((n,c)=>g(n,c,a)),d=(r,a)=>!r.children||r.children.length===0?null:y(r.children,[r].concat(a));return Array.isArray(t)?y(t,o):g(t,0,o)};import{parse as z,format as O}from"url";var f=t=>e=>e.type===t,S=t=>e=>e.type==="heading"&&e.depth===t,T=t=>e=>e.type==="zone"&&e.identifier===t,k=f("paragraph"),I=f("image"),U=t=>k(t)&&t.children.length===1&&I(t.children[0]),Z=t=>{let e=z(t,!0),{size:i}=e.query;if(!i||typeof i!="string")return null;let[o,p]=i.split("x");return{width:o,height:p}},D=(t,e)=>{if(!t)return t;let i=z(t,!0);return i.protocol==="data:"?t:(i.query.resize=e,i.search=void 0,O(i))};export{w as a,f as b,S as c,T as d,k as e,I as f,U as g,Z as h,D as i};
